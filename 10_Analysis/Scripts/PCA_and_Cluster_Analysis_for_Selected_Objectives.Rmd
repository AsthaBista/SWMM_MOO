---
title: "R Notebook"
output: html_notebook
---

This notebook presents an analysis of quantifies objectives from Monte Carlo simulations. Initially there are 19 objectives. After a quick correlation analysis, six were chosen for a deeper analysis using PCA and cluster analysis.
First a initial visualization of data is necessary.

**Visualization of Objectives Data**
First setting the environment:
```{r}
setwd("C:/Users/ABI/OneDrive - NIVA/Documents/GitHub/SWMM_MOO/10_Analysis")
```

```{r}
#install.packages("GGally")
#install.packages("ggplot2")
# Load required libraries
library(GGally)
library(ggplot2)
```


```{r}
# 1. Read the data from csv file
my_data <- read.csv("1000_Selected_Objectives.csv", sep=";")


# 2. Remove the first row (all zeros)
my_data <- my_data[-1,]
head(my_data)

# 3. Convert all columns to numeric to ensure proper scaling
my_data[] <- lapply(my_data, as.numeric)

# 4. SCALE THE DATA (Z-score normalization)
# This centers each column (mean = 0) and scales it (standard deviation = 1)
my_data_scaled <- as.data.frame(scale(my_data))

# 5. Keep the original column names for clear labeling
colnames(my_data_scaled) <- colnames(my_data)
```
```{r}

# 7. Create the Scatterplot Matrix with SCALED data
plot_matrix_scale1 <- ggpairs(
  data = my_data_scaled, 
  title = "Scatterplot Matrix (Standardized Data - Z-scores)",
  axisLabels = "show",
  progress = FALSE,
  upper = list(
    continuous = wrap("cor",
                     method = "pearson",
                     size = 4,
                     color = "blue") # Fixed typo: was displayAA
  ),
  lower = list(
    continuous = wrap("points",
                     alpha = 0.6,
                     size = 1.5,
                     color = "red") # Changed to a valid color
  ),
  diag = list(
    continuous = wrap("densityDiag", # Note: Capital 'D' in densityDiag
                     alpha = 0.7,
                     color = "green") # Changed to a valid color
  )
) + # The plus sign adds the theme
theme_bw() + # Fixed typo: was theme_bm()
theme(plot.title = element_text(hjust = 0.5, face = "bold")) # Fixed typo: was fjust

# 8. Print the plot
print(plot_matrix_scale1)

```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
